---
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import Footer from "../../components/Footer.astro";

export async function getStaticPaths() {
  const livros = [
    {
      slug: "o-livro-dos-espiritos",
      titulo: "O Livro dos Espíritos",
      autor: "Allan Kardec",
      descricao:
        "O primeiro livro da codificação espírita, contendo os princípios da Doutrina Espírita sobre a imortalidade da alma, a natureza dos espíritos e suas relações com os homens.",
      imagem:
        "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80",
      preco: "R$ 45,00",
      dataPublicacao: "18 de abril de 1857",
      comentario:
        "Uma obra fundamental que estabelece os princípios básicos da Doutrina Espírita, servindo como base para todo o conhecimento espírita posterior.",
      autorComentario: "Dr. José Carlos de Freitas",
      dataComentario: "15 de março de 2024",
    },
    {
      slug: "o-evangelho-segundo-o-espiritismo",
      titulo: "O Evangelho Segundo o Espiritismo",
      autor: "Allan Kardec",
      descricao:
        "Explicação das máximas morais do Cristo em concordância com o Espiritismo e suas aplicações às diversas circunstâncias da vida.",
      imagem:
        "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80",
      preco: "R$ 42,00",
      dataPublicacao: "abril de 1864",
      comentario:
        "Uma obra essencial que nos ajuda a compreender os ensinamentos de Jesus à luz da Doutrina Espírita, trazendo consolo e orientação para nossa vida diária.",
      autorComentario: "Maria Aparecida Silva",
      dataComentario: "20 de março de 2024",
    },
    {
      slug: "o-livro-dos-mediums",
      titulo: "O Livro dos Médiuns",
      autor: "Allan Kardec",
      descricao:
        "Guia dos médiuns e dos evocadores, contendo o ensino especial dos espíritos sobre a teoria de todos os gêneros de manifestações.",
      imagem:
        "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80",
      preco: "R$ 40,00",
      dataPublicacao: "janeiro de 1861",
      comentario:
        "Um guia prático e teórico indispensável para todos aqueles que desejam compreender e desenvolver a mediunidade de forma séria e responsável.",
      autorComentario: "Pedro Henrique Santos",
      dataComentario: "10 de março de 2024",
    },
  ];

  return livros.map((livro) => ({
    params: { slug: livro.slug },
    props: livro,
  }));
}

const {
  titulo,
  autor,
  descricao,
  imagem,
  preco,
  dataPublicacao,
  comentario,
  autorComentario,
  dataComentario,
} = Astro.props;
---

<Layout title={`${titulo} - CEABEM`}>
  <Navbar />

  <main class="py-16">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <!-- Breadcrumb -->
        <nav class="mb-8">
          <a
            href="/livraria"
            class="text-church-green hover:text-church-green/80"
          >
            ← Voltar para Livraria
          </a>
        </nav>

        <!-- Livro Detalhes -->
        <div class="bg-white rounded-xl shadow-sm p-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Imagem do Livro -->
            <div class="aspect-[3/4] rounded-lg overflow-hidden">
              <img
                src={imagem}
                alt={titulo}
                class="w-full h-full object-cover"
              />
            </div>

            <!-- Informações do Livro -->
            <div>
              <h1 class="text-3xl font-bold text-church-black mb-2">
                {titulo}
              </h1>
              <p class="text-church-green text-xl font-medium mb-4">{autor}</p>
              <p class="text-church-black/80 mb-6">{descricao}</p>

              <div class="mb-6">
                <p class="text-sm text-church-black/60">
                  Data de Publicação: {dataPublicacao}
                </p>
              </div>

              <div class="flex justify-between items-center mb-8">
                <span class="text-2xl font-bold text-church-black">{preco}</span
                >
                <button
                  class="bg-church-green text-white px-8 py-3 rounded-lg hover:bg-church-green/90 transition-colors"
                >
                  Comprar
                </button>
              </div>
              <p class="text-church-black/60 text-sm">
                * Verificar disponibilidade
              </p>
            </div>
          </div>

          <!-- Comentário -->
          <div class="mt-12 pt-8 border-t border-church-gray/20">
            <h2 class="text-2xl font-bold text-church-black mb-4">
              Comentário
            </h2>
            <div class="bg-church-gray/5 rounded-lg p-6">
              <p class="text-church-black/80 mb-4">{comentario}</p>
              <div
                class="flex justify-between items-center text-sm text-church-black/60"
              >
                <span>{autorComentario}</span>
                <span>{dataComentario}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
